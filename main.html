<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–í—Å–µ —Ç–µ—Å—Ç—ã</title>
    <link rel="stylesheet" href="main.css">
</head>
<body>
    <div class="container">
<header class="header">
    <div style="display: flex; justify-content: center; align-items: center; position: relative;">
        <h1 style="margin: 0;">üéØ –í—Å–µ –Ω–∞—à–∏ —Ç–µ—Å—Ç—ã</h1>
        <button class="theme-toggle" id="themeToggle" style="position: absolute; right: 0;">üåô</button>
    </div>
    <p class="subtitle">–í—ã–±–µ—Ä–∏ —Ç–µ—Å—Ç –∏ —É–∑–Ω–∞–π —á—Ç–æ-—Ç–æ –Ω–æ–≤–æ–µ –æ —Å–µ–±–µ!</p>
</header>

        <main>
<div class="tests-grid">
    <!-- –¢–µ—Å—Ç 1: –ù–∞–ø–∏—Ç–∫–∏ (–≥–æ—Ç–æ–≤) -->
    <div class="test-card drink" onclick="location.href='drink-test.html'">
        <div class="test-emoji">ü•§</div>
        <div class="test-title">–ö–∞–∫–æ–π —Ç—ã –Ω–∞–ø–∏—Ç–æ–∫?</div>
        <div class="test-desc">–£–∑–Ω–∞–π —Å–≤–æ–π –ª—é–±–∏–º—ã–π –≤–∫—É—Å</div>
    </div>
    
<!-- –¢–µ—Å—Ç 2: –°—É–ø–µ—Ä–≥–µ—Ä–æ–π (–≥–æ—Ç–æ–≤) -->
<div class="test-card hero" onclick="location.href='hero-test.html'">
    <div class="test-emoji">ü¶∏</div>
    <div class="test-title">–ö–∞–∫–æ–π —Ç—ã —Å—É–ø–µ—Ä–≥–µ—Ä–æ–π?</div>
    <div class="test-desc">–†–∞—Å–∫—Ä–æ–π —Å–≤–æ—é —Å—É–ø–µ—Ä—Å–∏–ª—É</div>
</div>
    
<!-- –¢–µ—Å—Ç 3: –ñ–∏–≤–æ—Ç–Ω–æ–µ (–≥–æ—Ç–æ–≤) -->
<div class="test-card animal" onclick="location.href='animal-test.html'">
    <div class="test-emoji">üê±</div>
    <div class="test-title">–ö–∞–∫–æ–µ —Ç—ã –∂–∏–≤–æ—Ç–Ω–æ–µ?</div>
    <div class="test-desc">–ù–∞–π–¥–∏ —Å–≤–æ–µ —Ç–æ—Ç–µ–º–Ω–æ–µ –∂–∏–≤–æ—Ç–Ω–æ–µ</div>
</div>
    
<!-- –¢–µ—Å—Ç 4: –ú—É–∑—ã–∫–∞ (–≥–æ—Ç–æ–≤) -->
<div class="test-card music" onclick="location.href='music-test.html'">
    <div class="test-emoji">üéµ</div>
    <div class="test-title">–ö–∞–∫–æ–π —Ç—ã –∂–∞–Ω—Ä –º—É–∑—ã–∫–∏?</div>
    <div class="test-desc">–û–ø—Ä–µ–¥–µ–ª–∏ —Å–≤–æ–π –º—É–∑—ã–∫–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å</div>
</div>
    
<!-- –¢–µ—Å—Ç 5: –û—Ç–ø—É—Å–∫ (–≥–æ—Ç–æ–≤) -->
<div class="test-card travel" onclick="location.href='travel-test.html'">
    <div class="test-emoji">üåç</div>
    <div class="test-title">–ö—É–¥–∞ –ø–æ–µ—Ö–∞—Ç—å –≤ –æ—Ç–ø—É—Å–∫?</div>
    <div class="test-desc">–ü–æ–¥–±–µ—Ä–∏ —Å—Ç—Ä–∞–Ω—É –¥–ª—è –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è</div>
</div>
    
<!-- –¢–µ—Å—Ç 6: –ü–∏—Ü—Ü–∞ (–≥–æ—Ç–æ–≤) -->
<div class="test-card pizza" onclick="location.href='pizza-test.html'">
    <div class="test-emoji">üçï</div>
    <div class="test-title">–ö–∞–∫–∞—è —Ç—ã –ø–∏—Ü—Ü–∞?</div>
    <div class="test-desc">–£–∑–Ω–∞–π –∫–∞–∫–∞—è –ø–∏—Ü—Ü–∞ —Ç–≤–æ—è –¥—É—à–∞</div>
</div>

<!-- –¢–µ—Å—Ç 7: –ü—Ä–æ—Ñ–µ—Å—Å–∏—è (–≥–æ—Ç–æ–≤) -->
<div class="test-card job" onclick="location.href='job-test.html'">
    <div class="test-emoji">üíº</div>
    <div class="test-title">–ö–∞–∫–∞—è —Ç—ã –ø—Ä–æ—Ñ–µ—Å—Å–∏—è?</div>
    <div class="test-desc">–£–∑–Ω–∞–π –∫–∞–∫–∞—è –ø—Ä–æ—Ñ–µ—Å—Å–∏—è —Ç–µ–±–µ –ø–æ–¥—Ö–æ–¥–∏—Ç</div>
</div>

<!-- –¢–µ—Å—Ç 8: –ü–ª–∞–Ω–µ—Ç–∞ (–≥–æ—Ç–æ–≤) -->
<div class="test-card planet" onclick="location.href='planet-test.html'">
    <div class="test-emoji">ü™ê</div>
    <div class="test-title">–ö–∞–∫–∞—è —Ç—ã –ø–ª–∞–Ω–µ—Ç–∞?</div>
    <div class="test-desc">–ù–∞–π–¥–∏ —Å–≤–æ—é –ø–ª–∞–Ω–µ—Ç—É</div>
</div>

<!-- –¢–µ—Å—Ç 9: –î–µ–Ω—å –Ω–µ–¥–µ–ª–∏ (–≥–æ—Ç–æ–≤) -->
<div class="test-card weekday" onclick="location.href='weekday-test.html'">
    <div class="test-emoji">üìÖ</div>
    <div class="test-title">–ö–∞–∫–æ–π —Ç—ã –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏?</div>
    <div class="test-desc">–£–∑–Ω–∞–π –∫–∞–∫–æ–π –¥–µ–Ω—å –ø–æ—Ö–æ–∂ –Ω–∞ —Ç–µ–±—è</div>
</div>

<!-- –¢–µ—Å—Ç 10: –ñ–∞–Ω—Ä—ã –∫–∏–Ω–æ (–Ω–æ–≤—ã–π) -->
<div class="test-card genre" onclick="location.href='genre-test.html'">
    <div class="test-emoji">üé¨</div>
    <div class="test-title">–ö–∞–∫–æ–π —Ç—ã –∂–∞–Ω—Ä –∫–∏–Ω–æ?</div>
    <div class="test-desc">–ü–æ–π–º–∏ —Å–≤–æ–π –∂–∞–Ω—Ä</div>
</div>

<!-- –¢–µ—Å—Ç 11: –í—Ä–µ–¥–Ω—ã–µ –ø—Ä–∏–≤—ã—á–∫–∏ (–Ω–æ–≤—ã–π) -->
<div class="test-card habits" onclick="location.href='habits-test.html'">
    <div class="test-emoji">üòà</div>
    <div class="test-title">–ö–∞–∫–∞—è —Ç–≤–æ—è —Å–ª–∞–±–æ—Å—Ç—å?</div>
    <div class="test-desc">–£–∑–Ω–∞–π —Å–≤–æ—é –≥–ª–∞–≤–Ω—É—é –≤—Ä–µ–¥–Ω—É—é –ø—Ä–∏–≤—ã—á–∫—É</div>
</div>

<!-- –¢–µ—Å—Ç 12: –°—Ç—Ä–∞—Ö–∏/–§–æ–±–∏–∏ (–Ω–æ–≤—ã–π) -->
<div class="test-card fears" onclick="location.href='fears-test.html'">
    <div class="test-emoji">üò®</div>
    <div class="test-title">–ö–∞–∫–æ–π —É —Ç–µ–±—è —Å—Ç—Ä–∞—Ö?</div>
    <div class="test-desc">–ö–∞–∫–∞—è —Ñ–æ–±–∏—è –∂–∏–≤–µ—Ç –≤–Ω—É—Ç—Ä–∏ —Ç–µ–±—è</div>
</div>

<!-- –¢–µ—Å—Ç 13: –î–∏–Ω–æ–∑–∞–≤—Ä—ã (–Ω–æ–≤—ã–π) -->
<div class="test-card dinosaurs" onclick="location.href='dinosaurs-test.html'">
    <div class="test-emoji">ü¶ñ</div>
    <div class="test-title">–ö–∞–∫–æ–π —Ç—ã –¥–∏–Ω–æ–∑–∞–≤—Ä?</div>
    <div class="test-desc">–ù–∞–π–¥–∏ –¥–∏–Ω–æ–∑–∞–≤—Ä–∞ –≤ —Å–≤–æ–µ–π –¥—É—à–µ</div>
</div>
</div>

            <!-- –°–í–Ø–ó–¨ –° –ù–ê–ú–ò -->
<div class="contact-section">
    <h2 class="contact-title">–°–≤—è–∑—å —Å –Ω–∞–º–∏</h2>
    <p class="contact-text">–ï—Å—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏–ª–∏ –≤–æ–ø—Ä–æ—Å—ã? –•–æ—á–µ—à—å –æ—Å—Ç–∞–≤–∏—Ç—å –∞–Ω–æ–Ω–∏–º–Ω—ã–π –æ—Ç–∑—ã–≤?</p>
    <button class="contact-btn" onclick="location.href='contact.html'">–ù–∞–ø–∏—Å–∞—Ç—å –Ω–∞–º</button>
</div>
        </main>
    </div>
<script>
// –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è updateTestCounters - –¢–û–õ–¨–ö–û –û–ë–ù–û–í–õ–Ø–ï–¢ –î–ê–ù–ù–´–ï, –ù–ï –£–î–ê–õ–Ø–ï–¢ –°–¢–ò–õ–ò
function updateTestCounters() {
    const stats = JSON.parse(localStorage.getItem('quizStats')) || {};
    const ratings = JSON.parse(localStorage.getItem('testRatings')) || {};
    
    // –°–ª–æ–≤–∞—Ä—å –¥–ª—è —Ç–µ—Å—Ç–æ–≤
    const tests = {
        drink: { selector: '.test-card.drink', name: '–ù–∞–ø–∏—Ç–∫–∏' },
        animal: { selector: '.test-card.animal', name: '–ñ–∏–≤–æ—Ç–Ω–æ–µ' },
        music: { selector: '.test-card.music', name: '–ú—É–∑—ã–∫–∞' },
        travel: { selector: '.test-card.travel', name: '–û—Ç–ø—É—Å–∫' },
        pizza: { selector: '.test-card.pizza', name: '–ü–∏—Ü—Ü–∞' },
        hero: { selector: '.test-card.hero', name: '–°—É–ø–µ—Ä–≥–µ—Ä–æ–π' },
        job: { selector: '.test-card.job', name: '–ü—Ä–æ—Ñ–µ—Å—Å–∏—è' },
        planet: { selector: '.test-card.planet', name: '–ü–ª–∞–Ω–µ—Ç–∞' },
        weekday: { selector: '.test-card.weekday', name: '–î–µ–Ω—å –Ω–µ–¥–µ–ª–∏' },
        genre: { selector: '.test-card.genre', name: '–ñ–∞–Ω—Ä—ã –∫–∏–Ω–æ' },
        habits: { selector: '.test-card.habits', name: '–í—Ä–µ–¥–Ω—ã–µ –ø—Ä–∏–≤—ã—á–∫–∏' },
        fears: { selector: '.test-card.fears', name: '–°—Ç—Ä–∞—Ö–∏' },
        dinosaurs: { selector: '.test-card.dinosaurs', name: '–î–∏–Ω–æ–∑–∞–≤—Ä—ã' }
    };
    
    // –ù–∞—Ö–æ–¥–∏–º —Å–∞–º—ã–π –ø–æ–ø—É–ª—è—Ä–Ω—ã–π —Ç–µ—Å—Ç
    let mostPopularId = null;
    let maxCount = 0;
    
    for (let [id, count] of Object.entries(stats)) {
        if (count > maxCount) {
            maxCount = count;
            mostPopularId = id;
        }
    }
    
    // –£–±–∏—Ä–∞–µ–º –∫–ª–∞—Å—Å most-popular —É –≤—Å–µ—Ö
    document.querySelectorAll('.test-card').forEach(card => {
        card.classList.remove('most-popular');
    });
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –Ω–∞ –∫–∞–∂–¥–æ–π –∫–∞—Ä—Ç–æ—á–∫–µ
    for (let [id, test] of Object.entries(tests)) {
        const card = document.querySelector(test.selector);
        if (card) {
            const count = stats[id] || 0;
            const testRating = ratings[id] || { average: 0, count: 0 };
            
            // –ò—â–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –±–ª–æ–∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏–ª–∏ —Å–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π
            let statsDiv = card.querySelector('.test-stats');
            if (!statsDiv) {
                statsDiv = document.createElement('div');
                statsDiv.className = 'test-stats';
                card.appendChild(statsDiv);
            }
            
            // –û—á–∏—â–∞–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ, –Ω–æ –Ω–µ —É–¥–∞–ª—è–µ–º —Å–∞–º –±–ª–æ–∫
            statsDiv.innerHTML = '';
            
            // –°—á–µ—Ç—á–∏–∫ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–π
            const counterSpan = document.createElement('span');
            counterSpan.className = 'test-counter';
            counterSpan.innerHTML = `üë• ${count} ${getWord(count)}`;
            
            // –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
            const separator = document.createElement('span');
            separator.className = 'stats-separator';
            separator.innerHTML = '|';
            
            // –†–µ–π—Ç–∏–Ω–≥
            const ratingSpan = document.createElement('span');
            ratingSpan.className = 'test-rating';
            
            if (testRating.count === 0) {
                ratingSpan.innerHTML = `<span class="rating-stars">‚òÜ‚òÜ‚òÜ‚òÜ‚òÜ</span> <span class="rating-value">0.0</span>`;
            } else {
                const starCount = Math.round(testRating.average);
                let filled = '‚òÖ'.repeat(starCount);
                let empty = '‚òÜ'.repeat(5 - starCount);
                
                ratingSpan.innerHTML = `
                    <span class="rating-stars">
                        <span class="stars-filled">${filled}</span>
                        <span class="stars-empty">${empty}</span>
                    </span>
                    <span class="rating-value">${testRating.average.toFixed(1)}</span>
                `;
            }
            
            statsDiv.appendChild(counterSpan);
            statsDiv.appendChild(separator);
            statsDiv.appendChild(ratingSpan);
            
            // –°—Ç–∞–≤–∏–º –æ–≥–æ–Ω–µ–∫ —Å–∞–º–æ–º—É –ø–æ–ø—É–ª—è—Ä–Ω–æ–º—É
            if (id === mostPopularId) {
                card.classList.add('most-popular');
            }
        }
    }
}

// –°–∫–ª–æ–Ω–µ–Ω–∏–µ —Å–ª–æ–≤–∞ "–ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ"
function getWord(count) {
    if (count % 10 === 1 && count % 100 !== 11) return '–ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ';
    if ([2,3,4].includes(count % 10) && ![12,13,14].includes(count % 100)) return '–ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è';
    return '–ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–π';
}

// ========== –ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ò–ï –¢–ï–ú–´ ==========
(function() {
    const themeToggle = document.getElementById('themeToggle');
    
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'dark') {
        document.body.classList.add('dark-theme');
        themeToggle.textContent = '‚òÄÔ∏è';
    }
    
    themeToggle.addEventListener('click', function() {
        document.body.classList.toggle('dark-theme');
        
        if (document.body.classList.contains('dark-theme')) {
            themeToggle.textContent = '‚òÄÔ∏è';
            localStorage.setItem('theme', 'dark');
        } else {
            themeToggle.textContent = 'üåô';
            localStorage.setItem('theme', 'light');
        }
    });
})();

window.updateTestCounters = updateTestCounters;
document.addEventListener('DOMContentLoaded', updateTestCounters);
setInterval(updateTestCounters, 5000);
</script>

<!-- –£–ë–ò–†–ê–ï–ú forceFixBorder - –û–ù –ë–û–õ–¨–®–ï –ù–ï –ù–£–ñ–ï–ù -->
<script src="test-helper.js"></script>
</body>
</html>